<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

<comment>board-sql</comment>

	<entry key="selectBoard">
SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, CREATE_DT, MEMBER_ID, READ_COUNT,
(SELECT COUNT(*)
FROM "COMMENT" SUB
GROUP BY BOARD_NO 
HAVING SUB.BOARD_NO = MAIN.BOARD_NO) COMMENT_COUNT
FROM BOARD MAIN	
LEFT JOIN MEMBER USING (MEMBER_NO)
WHERE DELETE_FL = 'N'
ORDER BY BOARD_NO 
	</entry>

	<entry key="selectMyBoard">
SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, CREATE_DT, MEMBER_ID, READ_COUNT,
(SELECT COUNT(*)
FROM "COMMENT" SUB
GROUP BY BOARD_NO 
HAVING SUB.BOARD_NO = MAIN.BOARD_NO) COMMENT_COUNT
FROM BOARD MAIN	
LEFT JOIN MEMBER USING (MEMBER_NO)
WHERE DELETE_FL = 'N'
AND MEMBER_ID = ?
ORDER BY BOARD_NO 
	</entry>

	<entry key="insertBoard">
INSERT INTO BOARD 
VALUES (SEQ_BOARD_NO.NEXTVAL, ?, ?, DEFAULT, DEFAULT, DEFAULT, ?)
	</entry>

	<entry key="selectMyBoard2">
SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, CREATE_DT, MEMBER_ID, READ_COUNT,
(SELECT COUNT(*)
FROM "COMMENT" SUB
GROUP BY BOARD_NO 
HAVING SUB.BOARD_NO = MAIN.BOARD_NO) COMMENT_COUNT
FROM BOARD MAIN	
LEFT JOIN MEMBER USING (MEMBER_NO)
WHERE DELETE_FL = 'N'
AND MEMBER_NO = ?
ORDER BY BOARD_NO 
	</entry>

	<entry key="updateBoard">
UPDATE BOARD
SET BOARD_TITLE = ?,
BOARD_CONTENT = ?
WHERE BOARD_NO = ?
	</entry>

	<entry key="deleteBoard">
DELETE FROM BOARD
WHERE BOARD_NO = ?
	</entry>

	<entry key="deleteBoard2">
UPDATE BOARD
SET DELETE_FL = 'Y'
WHERE BOARD_NO = ?
	</entry>
	
	<entry key="selectSpecificBoard">
SELECT BOARD_NO, BOARD_TITLE, BOARD_CONTENT, CREATE_DT, MEMBER_ID, READ_COUNT
FROM BOARD 
LEFT JOIN MEMBER USING (MEMBER_NO)
WHERE DELETE_FL = 'N'
AND BOARD_NO = ?
	</entry>
	
	<entry key="addReadCount">
UPDATE BOARD
SET READ_COUNT = READ_COUNT + 1	
WHERE BOARD_NO = ?
	</entry>

</properties>
